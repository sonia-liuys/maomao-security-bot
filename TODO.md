# 毛毛安全機器人 - 後端開發 TODO 清單

## 1. 系統架構設置
- [ ] 建立專案基本結構
- [ ] 設置配置文件系統
- [ ] 建立日誌系統
- [ ] 實現主控制循環

## 2. 視覺識別模組
- [ ] 設置攝像頭接口
- [ ] 整合 Google Teachable Machine 訓練模型
- [ ] 實現人臉識別功能
  - [ ] 特定人臉識別 (Sonia, Matthew)
  - [ ] 未知人臉檢測
- [ ] 實現學生證識別功能
- [ ] 優化識別信心度閾值
- [ ] 實現視覺跟蹤功能 (眼睛跟隨人臉)

## 3. 伺服馬達控制模組
- [ ] 建立伺服馬達抽象層
- [ ] 實現眼睛水平/垂直移動控制 (伺服 1-2)
- [ ] 實現眼瞼控制 (伺服 3-6)
- [ ] 實現頸部旋轉控制 (伺服 7)
- [ ] 實現手臂移動控制 (伺服 8-9)
- [ ] 開發高級動作 API (眨眼、表達情緒等)
- [ ] 實現平滑運動控制

## 4. 移動控制模組
- [ ] 與 Arduino 建立串口通訊
- [ ] 實現 8 種移動模式控制命令
  - [ ] 前進、後退
  - [ ] 持續前進、持續後退
  - [ ] 停止
  - [ ] 左轉 90°、右轉 90°
  - [ ] 方形路徑移動
- [ ] 整合超聲波感測器避障功能
- [ ] 實現自動巡邏路徑規劃

## 5. 通訊模組
- [ ] 設置 WebSocket 服務器
- [ ] 定義前後端通訊協議
- [ ] 實現狀態更新通知
- [ ] 實現控制命令接收處理
- [ ] 實現視覺識別結果傳送
- [ ] 實現警報通知機制

## 6. 模式控制模組
- [ ] 實現手動模式狀態機
- [ ] 實現巡邏模式狀態機
- [ ] 實現監視模式狀態機
- [ ] 處理模式間的切換邏輯
- [ ] 協調各子系統在不同模式下的行為

## 7. 安全監控模組
- [ ] 實現看門狗機制
- [ ] 建立異常處理機制
- [ ] 實現安全停止功能
- [ ] 設置系統自檢功能

## 8. 測試與優化
- [ ] 編寫單元測試
- [ ] 進行整合測試
- [ ] 性能優化
- [ ] 電池壽命優化

## 9. 文檔
- [ ] 編寫 API 文檔
- [ ] 編寫部署指南
- [ ] 編寫使用手冊
- [ ] 製作示範視頻

## 10. 部署
- [ ] 準備樹莓派系統映像
- [ ] 設置自動啟動腳本
- [ ] 建立備份與恢復機制
- [ ] 實施安全加固措施
